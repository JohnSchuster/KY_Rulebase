<root schema-version="1" product-version="10.4.2.18">
  <entities>
    <entity ref="global">
      <attribute name="p2" type="date" ruleburst="true" is-used="True" default-gender="neuter">
        <text lang="en-US">
          <base>the base period start date</base>
        </text>
      </attribute>
      <attribute name="p5" type="date" ruleburst="true" is-used="True" default-gender="neuter">
        <text lang="en-US">
          <base>the filing date</base>
        </text>
      </attribute>
    </entity>
    <entity name="the employment" id="employment" containment-relationship-id="allemployerinstancesofemployment" containment-parent-id="employer">
      <attribute name="b5" type="boolean" ruleburst="true" is-used="True">
        <text lang="en-US">
          <base>the employment's worked dates are sequential</base>
          <parse>s(ver('10.4.2.18'),v(be,t(simple,present,normal)),sb('the employment''s worked dates',plural),o('sequential'))</parse>
        </text>
      </attribute>
      <attribute name="b6" type="boolean" ruleburst="true" is-used="True">
        <text lang="en-US">
          <base>the employment was active within the investigative period</base>
          <parse>s(ver('10.4.2.18'),v(be,t(simple,past,normal)),sb('the employment',singular),o('active within the investigative period'))</parse>
        </text>
      </attribute>
      <attribute name="p1" type="date" ruleburst="true" is-used="True" default-gender="neuter">
        <text lang="en-US">
          <base>the employment's last day worked date</base>
        </text>
      </attribute>
      <attribute name="p4" type="date" ruleburst="true" is-used="True" default-gender="neuter">
        <text lang="en-US">
          <base>the employment's first day worked date</base>
        </text>
      </attribute>
    </entity>
    <entity name="the employer" id="employer" containment-relationship-id="allinstancesoftheemployer" containment-parent-id="global" />
  </entities>
  <relationships>
    <relationship type="OneToMany" relationship-id="allemployerinstancesofemployment" reverse-relationship-id="employmenttoemployerinstance" text="all employer instances of employment" reverse-text="employment to employer instance" source="employer" target="employment" is-implicit="false" is-containment="true" />
    <relationship type="OneToMany" relationship-id="allinstancesoftheemployer" reverse-relationship-id="employerglobalinstance" text="all instances of the employer" reverse-text="employer global instance" source="global" target="employer" is-implicit="false" is-containment="true" />
  </relationships>
  <rules>
    <rule id="0" name="the employment was active within the investigative period" ruleburst="true" concludes="b6" folder="0" source-offset="2">
      <rule-xml>
        <conclude attr-id="b6" entity-id="employment" scope-id="employment0">
          <value>
            <true-value />
          </value>
          <condition>
            <and>
              <less-than-equals>
                <attribute attr-id="p4" />
                <scope-for scope-ref="global0" target-entity-id="global">
                  <attribute attr-id="p5" />
                </scope-for>
              </less-than-equals>
              <less-than-equals>
                <attribute attr-id="p1" />
                <scope-for scope-ref="global0" target-entity-id="global">
                  <attribute attr-id="p5" />
                </scope-for>
              </less-than-equals>
              <greater-than-equals>
                <attribute attr-id="p1" />
                <scope-for scope-ref="global0" target-entity-id="global">
                  <attribute attr-id="p2" />
                </scope-for>
              </greater-than-equals>
              <attribute attr-id="b5" />
            </and>
          </condition>
          <otherwise>
            <false-value />
          </otherwise>
        </conclude>
      </rule-xml>
    </rule>
    <rule id="1" name="error(&quot;The employment must have been active within the investigation period.&quot;)" ruleburst="true" concludes="raiseevent &quot;error(\&quot;The employment must have been active within the investigation period.\&quot;)&quot;" folder="0" source-offset="399">
      <rule-xml>
        <event action="error(&quot;The employment must have been active within the investigation period.&quot;)" entity-id="employment" scope-id="employment0">
          <condition>
            <not>
              <attribute attr-id="b6" />
            </not>
          </condition>
        </event>
      </rule-xml>
    </rule>
    <rule id="2" name="the employment's worked dates are sequential" ruleburst="true" concludes="b5" folder="0" source-offset="646">
      <rule-xml>
        <conclude attr-id="b5" entity-id="employment" scope-id="employment0">
          <value>
            <true-value />
          </value>
          <condition>
            <less-than-equals>
              <attribute attr-id="p4" />
              <attribute attr-id="p1" />
            </less-than-equals>
          </condition>
          <otherwise>
            <false-value />
          </otherwise>
        </conclude>
      </rule-xml>
    </rule>
    <rule id="3" name="error(&quot;The first day worked, must be on or before, the last day worked.&quot;)" ruleburst="true" concludes="raiseevent &quot;error(\&quot;The first day worked, must be on or before, the last day worked.\&quot;)&quot;" folder="0" source-offset="807">
      <rule-xml>
        <event action="error(&quot;The first day worked, must be on or before, the last day worked.&quot;)" entity-id="employment" scope-id="employment0">
          <condition>
            <not>
              <attribute attr-id="b5" />
            </not>
          </condition>
        </event>
      </rule-xml>
    </rule>
    <rule id="4" name="error(&quot;The employment's first day worked, must be on or before, the filing date.&quot;)" ruleburst="true" concludes="raiseevent &quot;error(\&quot;The employment's first day worked, must be on or before, the filing date.\&quot;)&quot;" folder="0" source-offset="1031">
      <rule-xml>
        <event action="error(&quot;The employment's first day worked, must be on or before, the filing date.&quot;)" entity-id="employment" scope-id="employment0">
          <condition>
            <not>
              <less-than-equals>
                <attribute attr-id="p4" />
                <scope-for scope-ref="global0" target-entity-id="global">
                  <attribute attr-id="p5" />
                </scope-for>
              </less-than-equals>
            </not>
          </condition>
        </event>
      </rule-xml>
    </rule>
    <rule id="5" name="error(&quot;The employment's last day worked, must be on or before the filing date.&quot;)" ruleburst="true" concludes="raiseevent &quot;error(\&quot;The employment's last day worked, must be on or before the filing date.\&quot;)&quot;" folder="0" source-offset="1327">
      <rule-xml>
        <event action="error(&quot;The employment's last day worked, must be on or before the filing date.&quot;)" entity-id="employment" scope-id="employment0">
          <condition>
            <not>
              <less-than-equals>
                <attribute attr-id="p1" />
                <scope-for scope-ref="global0" target-entity-id="global">
                  <attribute attr-id="p5" />
                </scope-for>
              </less-than-equals>
            </not>
          </condition>
        </event>
      </rule-xml>
    </rule>
    <rule id="6" name="error(&quot;The employment's last day worked, must be on or after, the base period start date.&quot;)" ruleburst="true" concludes="raiseevent &quot;error(\&quot;The employment's last day worked, must be on or after, the base period start date.\&quot;)&quot;" folder="0" source-offset="1619">
      <rule-xml>
        <event action="error(&quot;The employment's last day worked, must be on or after, the base period start date.&quot;)" entity-id="employment" scope-id="employment0">
          <condition>
            <not>
              <greater-than-equals>
                <attribute attr-id="p1" />
                <scope-for scope-ref="global0" target-entity-id="global">
                  <attribute attr-id="p2" />
                </scope-for>
              </greater-than-equals>
            </not>
          </condition>
        </event>
      </rule-xml>
    </rule>
  </rules>
</root>